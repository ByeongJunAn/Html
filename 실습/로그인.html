<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <fieldset>
        <legend style="text-align:center ;">회원가입</legend>
        <table>
            <tr>
                <th>아이디</th>
                <th><input id="ID" type="text" required></th>
                <th><input id="idCheck" type="button" value="아이디 확인" onclick="checkId()"></th>
            </tr>
            <tr>
                <th>비밀번호</th>
                <th><input id="pass1" type="password" required></th>
                <th></th>
            </tr>
            <tr>
                <th>비밀번호 확인</th>
                <th><input id="pass2" type="password" required></th>
                <th><input id="passCheck" type="button" value="비밀번호 확인" onclick="checkpass()"></th>
            </tr>
            <tr>
                <th>전화번호 입력</th>
                <th>
                    <form action="">
                        <select name="tell1" id="tell1">
                            <option value="010">010</option>
                            <option value="011">011</option>
                            <option value="017">017</option>
                        </select>-
                        <input id="tell2" type="text" maxlength="4" size="2" onkeyup="nexttap(4,'tell2',tell3)" required>-
                        <input id="tell3" type="text" maxlength="4" size="2" required>
                    </form>
                </th>
                <th></th>
            </tr>
            <tr>
                <th>이름</th>
                <th><input type="text" id="name" maxlength="3"></th>
                <th></th>
            </tr>
            <tr>
                <th>주민등록번호</th>
                <th>
                    <input type="text" id="juminnum1" maxlength="6" size="5" onkeyup="nexttap(6,'juminnum1',juminnum2)">-
                    <input type="text" id="juminnum2" maxlength="1" size="1" onkeyup="nexttap(1,'juminnum2',email1)">******
                </th>
                <th></th>
            </tr>
            <tr>
                <th>이메일 입력</th>
                <th>
                    <input type="text" id="email1" maxlength="6" size="4">@
                        <select>
                            <option value="google.com">google.com</option>
                            <option value="nate.net">nate.net</option>
                            <option value="naver.com">naver.com</option>
                        </select>
                </th>
                <th></th>
            </tr>
            
            <tr>
                <th></th>
                <th></th>
                <th></th>
            </tr>
            <tr>
                <th></th>
                <th></th>
                <th></th>
            </tr>
            <tr>
                <th></th>
                <th></th>
                <th></th>
            </tr>
        </table>
        <button type="submit" onclick="submit12()">제출</button>
    </fieldset>
    <script>
        var idList = ["qweqwe12","asdasd12","zxczxc45","rtyrty45","fghfgh45","vbnvbn45"];
        var juminList = [["생년","월","일","성별"],[],[],[],[],[],[],[],[],[]];
        var jumin000000 = 1;
        
        function checkId () {
            var id = document.getElementById("ID").value;
            var RegExp = /^[a-zA-Z0-9]{8,16}$/;

            var userId = document.getElementById("ID");

            if(userId.value == ""){
            alert("id를 입력해주세요.");
            document.getElementById("ID").value ="";
            return;
            }

            if(!RegExp.test(userId.value)){
            alert("8~16자리 영문대소문자와 숫자로만 입력해주세요");
            document.getElementById("ID").value ="";
            return;
            }

            
            for (let i = 0; i < idList.length; i++) {
                if(idList[i]==id){
                    alert("아이디가 중복되었습니다. 다른 아이디를 입력해주세요");
                    document.getElementById("ID").value ="";
                    return;
                }
            }

            alert("아이디 사용이 가능합니다.");
        };
        function checkpass(){
            var password1 = document.getElementById("pass1").value;
            var password2 = document.getElementById("pass2").value;
            function isPassword(password1) {
	            var regExp = /^(?=.*\d)(?=.*[a-zA-Z])[0-9a-zA-Z]{8,16}$/;
 
	            return regExp.test(password1);
            }
            var nonpass = isPassword(password1);
            console.log(nonpass);
            if (nonpass == false){
                alert("8-16자 영문 숫자조합이 아닙니다.")
                document.getElementById("pass1").value = "";
                document.getElementById("pass2").value = "";
                return;
            }
            
            if (password1 == password2) {
                alert("비밀번호가 같습니다");
            }else{
                alert("비밀번호가 다릅니다 다시 입력해주세요");
                document.getElementById("pass2").value = "";
            }
        };
        function submit12(){
            

            idList.push(id);
            var juminnumber1 = document.getElementById("juminnum1").value;
            var juminnumber2 = document.getElementById("juminnum2").value;
            var year = juminnumber1.substr(0, 2);
            var month = juminnumber1.substr(2, 2);
            var day = juminnumber1.substr(4, 2);
            juminList[jumin000000].push(year); //이것도 가입이 되면 DB추가
            juminList[jumin000000].push(month);
            juminList[jumin000000].push(day);
            juminList[jumin000000].push(juminnumber2);
        }
        function nexttap(n, nowid, goid){
            var telnum = document.getElementById(nowid).value;
            if(telnum.length >= n){
                goid.focus();
            }
        }
        
    </script>
</body>
</html>